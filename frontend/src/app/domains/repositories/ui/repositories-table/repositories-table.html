<div class="p-5">
  <app-table (nearEnd)="onNearEnd()" appScrollNearEnd [data]="repositories()">
    <ng-container *appTableHeader>
      <th scope="col" class="px-6 py-3">Name</th>
      <th scope="col" class="px-6 py-3">Description</th>
      <th scope="col" class="px-6 py-3">Stars</th>
      <th scope="col" class="px-6 py-3">Open issues</th>
      <th scope="col" class="px-6 py-3">Created at</th>
      <th scope="col" class="px-6 py-3">Updated at</th>
    </ng-container>
    <ng-container *appTableRow="repositories(); let row">
      <td
        class="flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white"
      >
        @if (row.owner.avatar_url) {
          <img
            class="w-10 h-10 rounded-full"
            [ngSrc]="row.owner.avatar_url"
            height="10"
            width="10"
            alt="avatar"
          />
        } @else {
          <app-avatar-placeholder />
        }

        <div class="ps-3">
          <button (click)="onNameClicked(row)" class="text-base font-semibold">
            {{ row.name }}
          </button>
          <div class="font-normal text-gray-500">{{ row.owner.login }}</div>
        </div>
      </td>
      <td class="px-6 py-4">{{ row.description }}</td>
      <td class="px-6 py-4">{{ row.stargazers_count }}</td>
      <td class="px-6 py-4">{{ row.open_issues_count }}</td>
      <td class="px-6 py-4">{{ row.created_at }}</td>
      <td class="px-6 py-4">{{ row.updated_at }}</td>
    </ng-container>
  </app-table>

  @if (isLoading()) {
    <app-loading-spinner />
  }
</div>
